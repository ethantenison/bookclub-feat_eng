# Working with Profile Data

**What even is profile data???** Not hierarchical structures?!?!

Profile data refers to datasets that have complex hierachcical relationships.An example would be if you're trying to predict whether a student would pass a course. You might have demographic data on that student, but you'd probably also have data on the courses they took, absences grades etc.. There might also be a time component related to how quickly they're finishing their degree. There are a lot of layers to this, and feature engineering can help us create better models, insofar as we understand the data's structure.

\*look up variabnce of a difference **Learning objectives:**

-   THESE ARE NICE TO HAVE BUT NOT ABSOLUTELY NECESSARY

## Illustrative Data: Pharmaceutical Manufacturing Monitoring

-   Company is trying to produce a drug that uses specific proteins

-   Cell are placed in a bioreactor where they produce the proteins (the yield)

-   factors like humidity and temperature can be recorded, as well as cell specific celluar data like glucose productiion and ammonia (which can negatively impact the yield)

-   Measuring glucose and ammonia is time consuming, so a spectroscopy is used to make the predictions, from 15 small reactors and 3 large reactors

![A schematic for the experimental design for pharmaceutical manufacturing.](images/09_pharm_example.png)

The goal here is to see if we can take the results from the small reactors to predict the results of the big reactors.

Looking at the spectra over multiple days we see that the intensity exhibits similar patterns in the small and large reactors. The difference being the big reactors lead to slightly higher intensities.

![](images/09_profile-small-large-bioreactors.svg){width="769" height="439"}

![](images/09_profile-small-large-bioreactors.svg)

![(a) Spectra for a small- and large-scale reactor on days 1, 7, and 14. (b) The spectra for a single reactor over 14 days.](images/09_profile-small-large-bioreactors-2.svg)

![![](images/09_profile-small-large-bioreactors.svg)](images/09_profile-small-large-bioreactors.svg)

## What are the Experimental Unit and the Unit of Prediction?

Nearly 2600 wavelengths are measured each day for two weeks for each of 15 small-scale bioreactors. This type of data forms a *hierarchical, or nested,* structure in which wavelengths are measured within each day and within each bioreactor. The key characteristic of this is that the data within a nesting is more related than data between nestings. For example, the spectra within a day are more related to each other than between different days, AND the wavelengths within the days are more correlated with each other than wavelengths between reactors.

### ðŸ¤¯WOW this is confusing

Interrelated correlations can be visualized through a plot of autocorrelations. In the plot below, we can see that the autocorrelation between wavelengths is different on different days, [confusiling]

![(a) Autocorrelations for selected lags of wavelengths for small-scale bioreactor 1 on the first day. (b) Autocorrelations for lags of days for average wavelength intensity for small-scale bioreactor 1.](images/09_profile-acf-bioreactor1-1.svg)

<details>

<summary>Meeting chat log</summary>

    LOG

</details>
